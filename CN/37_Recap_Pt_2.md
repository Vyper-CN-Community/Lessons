# 回顾：理解你的第一个 Vyper 智能合约 - favorites.vy

恭喜你编写了你的第一个 Vyper 智能合约！本课回顾了我们在使用 Remix Ethereum IDE 构建 `favorites.vy` 合约时涵盖的基本概念。理解这些基础知识对于继续学习更复杂的主题至关重要。

让我们重温一下我们合约的关键要素：

### Vyper 版本 Pragma (Vyper Version Pragma)
我们合约的第一行指定了编译器版本：
```vyper
@version ^0.4.0
```
这对于确保你的代码在未来的编译器更新中按预期运行至关重要。

### 结构体：定义自定义数据类型
我们使用结构体将相关信息分组：
```vyper
struct Person:
    favorite_number: uint256
    name: String[100]
```
结构体有助于逻辑地组织数据。

### 状态变量：在区块链上存储数据
在任何函数之外声明的变量是状态变量。它们代表持久数据。
*   `uint256`：非负整数。
*   `String[100]`：限制为 100 字节的文本。
*   `uint256[5]`：固定大小的数字列表。
*   `HashMap[...]`：键值映射。

### 可见性：使用 public 控制访问
使用 `public(...)` 使变量可从外部读取，并自动创建一个 Getter 函数，除非你想编写一个自定义的。

### 构造函数：初始化你的合约
`__init__` 函数（标记为 `@deploy`）在部署期间仅运行一次，以设置初始状态。
```vyper
@deploy
def __init__():
    self.my_favorite_number = 7
```

### 函数：定义合约行为
函数定义了逻辑。
*   `@external`：可从外部调用。
*   `@view`：只读，无状态修改，通常调用无 Gas 成本。
*   `self`：用于在函数内部访问状态变量的关键字。

### 关键要点
*   **状态修改**（如 `store`, `add_person`）需要交易并消耗 Gas。
*   **状态读取**（如 `retrieve`）可以通过 view 函数完成，通常没有执行 Gas 成本。
*   **Remix IDE** 是一个用于学习和测试的强大工具。

你已经成功掌握了 Vyper 智能合约的核心组件！现在是休息一下并消化这些信息的最佳时机。做得好！
